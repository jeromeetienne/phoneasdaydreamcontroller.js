<script src="vendor/speechapi-experiments/webspeech-commands.js"></script>
<script>

var webSpeechCommands = new WebSpeechCommands()

webSpeechCommands.listen(function onResult(event){
        if( event === null ){
		webSpeechCommands.say( 'An error occured, please try again', function(){
	                webSpeechCommands.listen(onResult)
	        })		
		return
	}
        
        var command = event.results[0][0].transcript
        command = command.toLowerCase()

        if( command === 'hello' ){
                var text = 'Hello master'
        }else if( command === 'how are you' ){
                var text = 'Fine, ready to please'
        }else if( command === 'open remote expert' ){
                var text = 'You are the most expert'
        }else if( command === 'open gallery' ){
                var text = 'Vous etes si beau dans ce mirroir'
        }else{
                var text = command + ' is an unknown command'
        }
        
        webSpeechCommands.say( text, function(){
                webSpeechCommands.listen(onResult)
        })
})

</script>
